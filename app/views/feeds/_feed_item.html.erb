<% if feed.item && (feed.item.is_a?(Desire) || feed.item.is_a?(Recipe)) %>
    <div class="masonary_item">
        <div class="inner_frame">
            <div class="p10">
                <% pic_url = feed.item.get_image_url(:waterfall) %>
                <% pic_height = feed.item.get_image_height(:waterfall) %>
                <%= link_to image_tag(pic_url, height: pic_height), feed.item if pic_url.present? %>
                <div class="clearfix">
                    <% if (feed.item.respond_to? :author) && feed.item.author %>
                        <span>
                            <%= link_to image_tag(feed.item.author.get_avatar(:thumb, false), width: 22, height: 22), feed.item.author %>
                            <%= link_to feed.item.author.login_name, feed.item.author %>
                        </span>
                    <% end %>

                    <%= truncate_content feed.content, 200 %>
                </div>
            </div>
        </div>
    </div>
<% end %>