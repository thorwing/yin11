<div class="clearfix">
    <span class="fr"><%= link_to "未读", notifications_path(read: false) %></span>
</div>
<% @notifications.each do |notification| %>
    <div class="clearfix overflow_hidden" id="<%= notification.id.to_s %>">
        <div class="fl" style="width: 300px;">
            <% unless notification.read %>
                <div class="fl mr10"><%= link_to "未读", notifications_path(read: false), class: "tag" %></div>
            <% end %>
            <% if notification.person %>
                <%= link_to image_tag(notification.person.get_avatar(:thumb), width:24, height:24), notification.person %>
                <%= link_to notification.person.login_name, notification.person %>
            <% end %>
        </div>
        <div class="fl" style="width:430px;">
            <%= notification.subject %><br/>
            <% if notification.message.present? %>
                <blockquote><span class="quoted"><%= notification.message %></span> </blockquote>
            <% end %>
            <% if notification.item.present? %>
                <%= link_to "[" + t("general.show") + "]", notification.item %>
            <% end %>
        </div>
        <div class="fr" style="width: 200px;">
            <span class="trivial"><%= notification.created_at.strftime("%m-%d %H:%M:%S") %></span>
            <%= link_to image_tag("correct_icon.gif") + "知道了",  {:controller => "notifications", :action => "read", :id => notification.id}, :remote => true, :method => :put %>
            <%= link_to image_tag("wrong_icon.gif") + "删除", notification, :confirm => t("general.are_you_sure_to_delete"), remote: true, method: :delete %>
        </div>
        <div class="clearfix"></div>
        <hr/>
    </div>
<% end %>